{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport function fetchImages(query) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const KEY_API = '?key=42408826-646f1c33dda85bc33c99aac2a';\n  const PARAMS = `&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + END_POINT + KEY_API + PARAMS;\n\n  return fetch(url)\n    .then(res => {\n      return res.json();\n    })\n    .catch(err => {\n      throw new Error(err.status);\n    });\n}\n","'use strict';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryEl = document.querySelector('.gallery');\n\nexport function imageTemplate(data) {\n  const markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  <div class=\"image-description\">\n    <p><b>Likes: </b>${likes}</p>\n    <p><b>Views: </b>${views}</p>\n    <p><b>Comments: </b>${comments}</p>\n    <p><b>Downloads: </b>${downloads}</p>\n  </div>\n  </a>\n</li>`;\n      }\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n  });\n  lightbox.refresh();\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { galleryEl } from './js/render-functions';\nimport { imageTemplate } from './js/render-functions';\n\nconst formEl = document.querySelector('.img-search-form');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('hidden');\n  const query = e.target.elements.query.value.trim();\n  fetchImages(query).then(data => {\n    if (data.totalHits === 0 || query === '') {\n      loaderEl.classList.add('hidden');\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: 'white',\n        backgroundColor: 'red',\n        position: 'topRight',\n      });\n    } else {\n      loaderEl.classList.add('hidden');\n      imageTemplate(data);\n    }\n  });\n  e.target.reset();\n}\n"],"names":["fetchImages","query","BASE_URL","END_POINT","KEY_API","PARAMS","url","res","err","galleryEl","imageTemplate","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","formEl","loaderEl","onFormSubmit","e","iziToast"],"mappings":"6vBAEO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,0CACVC,EAAS,MAAMJ,CAAK,2DAEpBK,EAAMJ,EAAWC,EAAYC,EAAUC,EAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GACGA,EAAI,MACZ,EACA,MAAMC,GAAO,CACZ,MAAM,IAAI,MAAMA,EAAI,MAAM,CAChC,CAAK,CACL,CCbO,MAAMC,EAAY,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAASD,EAAK,KACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,kCACmBL,CAAa;AAAA,oCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,uBAEvCC,CAAK;AAAA,uBACLC,CAAK;AAAA,0BACFC,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA;AAAA,MAK/B,EACA,KAAK,EAAE,EACVV,EAAU,mBAAmB,YAAaG,CAAM,EAE/B,IAAIQ,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,IACd,aAAc,MACd,gBAAiB,QACrB,CAAG,EACQ,QAAO,CAClB,CChCA,MAAMC,EAAS,SAAS,cAAc,kBAAkB,EAClDC,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAO,iBAAiB,SAAUE,CAAY,EAE9C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBf,EAAU,UAAY,GACtBa,EAAS,UAAU,OAAO,QAAQ,EAClC,MAAMrB,EAAQuB,EAAE,OAAO,SAAS,MAAM,MAAM,OAC5CxB,EAAYC,CAAK,EAAE,KAAKU,GAAQ,CAC1BA,EAAK,YAAc,GAAKV,IAAU,IACpCqB,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,gBAAiB,MACjB,SAAU,UAClB,CAAO,IAEDH,EAAS,UAAU,IAAI,QAAQ,EAC/BZ,EAAcC,CAAI,EAExB,CAAG,EACDa,EAAE,OAAO,OACX"}